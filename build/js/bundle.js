"use strict";!function(e){var s=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;e.matches=e.matchesSelector=s||function(e){var s=document.querySelectorAll(e),t=this;return Array.prototype.some.call(s,function(e){return e===t})}}(Element.prototype);var maket1=document.querySelector(".maket-1"),maket2=document.querySelector(".maket-2"),createStr=document.querySelector(".button-maket-1"),ulTopBottom={top:"",bottom:"",height:"",topUl:"",bottomUl:"",heightUl:"",difference:"",ulSelect:""};function addCompany(e){e.preventDefault(),$(".maket-1").addClass("js-none"),$(".maket-2").addClass("js-block"),subdivision()}createStr.addEventListener("click",addCompany);var maket7=document.querySelector(".maket-7"),maket8=document.querySelector(".maket-8"),addSubdivision=document.querySelector(".subdivision-str--addstructure"),addUser=document.querySelector(".js-subdivision-str--user"),addAdmin=document.querySelector(".subdivision-str--admin");function subdivision(){$("#myModal-2").modal("show")}function addSubdiv(e){e.preventDefault(),$("#myModal-2").modal("hide"),$("#myModal-option-2").modal("show")}function addToUser(e){e.preventDefault(),$("#myModal-option-2").modal("hide"),$(".maket-2").removeClass("js-block"),$(".maket-8").addClass("js-block"),scrollNone(jsMenuUser)}function addToAdmin(e){e.preventDefault(),$("#myModal-option-2").modal("hide"),$(".maket-2").removeClass("js-block"),$(".maket-7").addClass("js-block"),topPositions(),scrollNone(jsMenu)}addSubdivision.addEventListener("click",addSubdiv),addUser.addEventListener("click",addToUser),addAdmin.addEventListener("click",addToAdmin);var btnTrashArr=document.querySelector(".adminvisible-str"),footerBlockUser=document.querySelector(".js-footer-user"),footerBlockAdmin=document.querySelector(".js-footer-admin");function toAdminTrash(e){e.preventDefault(),e.target.classList.contains("uservisible-str__item--trash")&&$("#myModal-trash-7").modal("show")}function toBtnTrash(e){e.preventDefault();var s=e.target;(s.classList.contains("footer-str__trash--img")||s.classList.contains("footer-str__trash"))&&$("#myModal-trashBtn-7").modal("show")}function editPens(e){e.preventDefault(),e.target.classList.contains("uservisible-str__item--pens")&&$("#myModal-pens-7").modal("show")}btnTrashArr.addEventListener("click",toAdminTrash),footerBlockAdmin.addEventListener("click",toBtnTrash),btnTrashArr.addEventListener("click",editPens);var userItem=document.querySelector(".js-uservisible-str");function infoUser(e){e.preventDefault();var s=e.target;(s.classList.contains("uservisible-str__link")||s.classList.contains("uservisible-str__sublink"))&&$("#myModal-infouser-8").modal("show")}function addInfoUser(e){e.preventDefault();var s=e.target,t=$(window).width();s.classList.contains("uservisible-str__sublink--imgman")&&1023<t&&$("#myModal-infouser-8").modal("show"),s.matches(".uservisible-str__sublink--imgman > use")&&1023<t&&$("#myModal-infouser-8").modal("show"),s.classList.contains("uservisible-str__sublink--imgcall")&&1023<t&&$("#myModal-infouser-8").modal("show"),s.matches(".uservisible-str__sublink--imgcall > use")&&1023<t&&$("#myModal-infouser-8").modal("show"),s.classList.contains("uservisible-str__sublink--imggps")&&1023<t&&$("#myModal-infouser-8").modal("show"),s.matches(".uservisible-str__sublink--imggps > use")&&1023<t&&$("#myModal-infouser-8").modal("show")}function infoAdmin(e){e.preventDefault();var s=e.target;(s.classList.contains("uservisible-str__link")||s.classList.contains("uservisible-str__sublink"))&&$("#myModal-infoadmin-7").modal("show")}function addEmploy(e){e.preventDefault();var s=e.target,t=$(window).width();s.classList.contains("uservisible-str__sublink--imgman")&&1023<t&&$("#myModal-employ-7").modal("show"),s.matches(".uservisible-str__sublink--imgman > use")&&1023<t&&$("#myModal-employ-7").modal("show"),s.classList.contains("uservisible-str__sublink--imggps")&&1023<t&&$("#myModal-addcontact-7").modal("show"),s.matches(".uservisible-str__sublink--imggps > use")&&1023<t&&$("#myModal-addcontact-7").modal("show")}function addContact(e){e.preventDefault();var s=e.target,t=$(window).width();s.classList.contains("uservisible-str__sublink--imgcall")&&1023<t&&$("#myModal-addcontact-7").modal("show"),s.matches(".uservisible-str__sublink--imgcall > use")&&1023<t&&$("#myModal-addcontact-7").modal("show")}userItem.addEventListener("click",infoUser),userItem.addEventListener("click",addInfoUser),btnTrashArr.addEventListener("click",infoAdmin),btnTrashArr.addEventListener("click",addEmploy),btnTrashArr.addEventListener("click",addContact);var addZoomIcons=void 0;function zoomIconsBlock(e){e.preventDefault();var s=e.target;$(window).width()<1024&&(s.classList.contains("uservisible-str--bottomflex")?(s.classList.add("js-uservisible-str--zoomicons"),(addZoomIcons=document.querySelector(".js-uservisible-str--zoomicons")).addEventListener("click",addZoomContact)):s.parentNode.parentNode.classList.contains("uservisible-str--bottomflex")?(s.parentNode.parentNode.classList.add("js-uservisible-str--zoomicons"),(addZoomIcons=document.querySelector(".js-uservisible-str--zoomicons")).addEventListener("click",addZoomContact)):s.parentNode.parentNode.parentNode.classList.contains("uservisible-str--bottomflex")&&(s.parentNode.parentNode.parentNode.classList.add("js-uservisible-str--zoomicons"),(addZoomIcons=document.querySelector(".js-uservisible-str--zoomicons")).addEventListener("click",addZoomContact)))}function addZoomContact(e){e.preventDefault();var s=e.target;btnTrashArr.removeEventListener("click",zoomIconsBlock),addZoomIcons.classList.contains("js-uservisible-str--zoomicons")?((s.classList.contains("uservisible-str__sublink--imgcall")||s.matches(".uservisible-str__sublink--imgcall > use"))&&(addZoomIcons.classList.remove("js-uservisible-str--zoomicons"),$("#myModal-addcontact-7").modal("show"),setTimeout(function(){btnTrashArr.addEventListener("click",zoomIconsBlock)},1e3)),(s.classList.contains("uservisible-str__sublink--imgman")||s.matches(".uservisible-str__sublink--imgman > use"))&&(addZoomIcons.classList.remove("js-uservisible-str--zoomicons"),$("#myModal-employ-7").modal("show"),setTimeout(function(){btnTrashArr.addEventListener("click",zoomIconsBlock)},1e3)),(s.classList.contains("uservisible-str__sublink--imggps")||s.matches(".uservisible-str__sublink--imggps > use"))&&(addZoomIcons.classList.remove("js-uservisible-str--zoomicons"),$("#myModal-addcontact-7").modal("show"),setTimeout(function(){btnTrashArr.addEventListener("click",zoomIconsBlock)},1e3))):btnTrashArr.addEventListener("click",zoomIconsBlock)}function zoomIconsBlockUser(e){e.preventDefault();var s=e.target;$(window).width()<1024&&(s.classList.contains("uservisible-str--bottomflex")?(s.classList.add("js-uservisible-str--zoomicons"),(addZoomIcons=document.querySelector(".js-uservisible-str--zoomicons")).addEventListener("click",addZoomContactUser)):s.parentNode.parentNode.classList.contains("uservisible-str--bottomflex")?(s.parentNode.parentNode.classList.add("js-uservisible-str--zoomicons"),(addZoomIcons=document.querySelector(".js-uservisible-str--zoomicons")).addEventListener("click",addZoomContactUser)):s.parentNode.parentNode.parentNode.classList.contains("uservisible-str--bottomflex")&&(s.parentNode.parentNode.parentNode.classList.add("js-uservisible-str--zoomicons"),(addZoomIcons=document.querySelector(".js-uservisible-str--zoomicons")).addEventListener("click",addZoomContactUser)))}function addZoomContactUser(e){e.preventDefault();var s=e.target;userItem.removeEventListener("click",zoomIconsBlockUser),addZoomIcons.classList.contains("js-uservisible-str--zoomicons")?((s.classList.contains("uservisible-str__sublink--imgcall")||s.matches(".uservisible-str__sublink--imgcall > use"))&&(addZoomIcons.classList.remove("js-uservisible-str--zoomicons"),$("#myModal-infouser-8").modal("show"),setTimeout(function(){userItem.addEventListener("click",zoomIconsBlockUser)},1e3)),(s.classList.contains("uservisible-str__sublink--imgman")||s.matches(".uservisible-str__sublink--imgman > use"))&&(addZoomIcons.classList.remove("js-uservisible-str--zoomicons"),$("#myModal-infouser-8").modal("show"),setTimeout(function(){userItem.addEventListener("click",zoomIconsBlockUser)},1e3)),(s.classList.contains("uservisible-str__sublink--imggps")||s.matches(".uservisible-str__sublink--imggps> use"))&&(addZoomIcons.classList.remove("js-uservisible-str--zoomicons"),$("#myModal-infouser-8").modal("show"),setTimeout(function(){userItem.addEventListener("click",zoomIconsBlockUser)},1e3))):userItem.addEventListener("click",zoomIconsBlockUser)}btnTrashArr.addEventListener("click",zoomIconsBlock),userItem.addEventListener("click",zoomIconsBlockUser);var adminVisible=document.querySelector(".adminvisible-str");function addStructure(e){e.preventDefault();var s=e.target;s.classList.contains("js-addstructure")&&$("#myModal-2").modal("show"),s.classList.contains("js-adddepart")&&$("#myModal-depart-2").modal("show")}adminVisible.addEventListener("click",addStructure);var jsAddUsers=document.querySelector(".js-adduser");function addUsersBtn(e){e.preventDefault(),$("#myModal-infoadmin-7").modal("hide"),$("#myModal-employ-7").modal("show")}jsAddUsers.addEventListener("click",addUsersBtn);var jsAddContacts=document.querySelector(".js-addcontacts");function addContactsBtn(e){e.preventDefault(),$("#myModal-infoadmin-7").modal("hide"),$("#myModal-addcontact-7").modal("show")}jsAddContacts.addEventListener("click",addContactsBtn),$(function(){var e=function(e,s){this.el=e||{},this.multiple=s||!1,this.el.find(".uservisible-str__item--topblock").on("click",{el:this.el,multiple:this.multiple},this.dropdown)};e.prototype.dropdown=function(e){var s=e.data.el,t=$(this),o=t.next(),i=$(window).width();0<t.parent().find(".uservisible-str__sublist").length&&e.target.classList.contains("js-mark")&&(o.toggle(),t.find(".js-mark").hasClass("uservisible-str__item--mark-right")?(t.find(".js-mark").removeClass("uservisible-str__item--mark-right"),t.find(".js-mark").addClass("uservisible-str__item--mark")):(t.find(".js-mark").removeClass("uservisible-str__item--mark"),t.find(".js-mark").addClass("uservisible-str__item--mark-right")),topPositions(),addSubLines(),e.data.multiple||(s.find(".uservisible-str__sublist").not(o).slideUp(50).parent().find(".uservisible-str__link-block:first").parent().find(".js-mark").removeClass("uservisible-str__item--mark-right").addClass("uservisible-str__item--mark"),topPositions(),addSubLines()),767<i&&paramElem(o[0]))};new e($(".uservisible-str.adminvisible-str"),!1),new e($(".js-uservisible-str"),!1)}),$(function(){var e=function(e,s){this.el=e||{},this.multiple=s||!1,this.el.find(".uservisible-str__subitem--topblock").on("click",{el:this.el,multiple:this.multiple},this.dropdown)};e.prototype.dropdown=function(e){e.data.el;var s=$(this),t=s.next(),o=$(window).width();0<s.parent().find(".uservisible-str__sublist").length&&e.target.classList.contains("js-mark")&&(t.toggle(),s.find(".js-mark").hasClass("uservisible-str__item--mark-right")?(s.find(".js-mark").removeClass("uservisible-str__item--mark-right"),s.find(".js-mark").addClass("uservisible-str__item--mark")):(s.find(".js-mark").removeClass("uservisible-str__item--mark"),s.find(".js-mark").addClass("uservisible-str__item--mark-right")),topPositions(),addSubLines(),e.data.multiple||(s.parent().parent().find(".uservisible-str__sublist").not(t).slideUp(50).parent().find(".uservisible-str__sublink-block:first").parent().find(".js-mark").removeClass("uservisible-str__item--mark-right").addClass("uservisible-str__item--mark"),topPositions(),addSubLines()),767<o&&paramElem(t[0]))};new e($(".uservisible-str.adminvisible-str"),!1),new e($(".js-uservisible-str"),!1)});for(var jsMenu=document.querySelector(".uservisible-str.adminvisible-str"),jsMenuUser=document.querySelector(".uservisible-str.js-uservisible-str"),divisionBlock=jsMenu.parentNode,divisionBlockUser=jsMenuUser.parentNode,lastDivisionBlock=jsMenu.lastElementChild,lastDivisionBlockUser=jsMenuUser.lastElementChild,arrSublist=document.querySelectorAll(".adminvisible-str .uservisible-str__sublist"),i=0;i<arrSublist.length;i++)arrSublist[i].classList.add("js-sublist-"+i);var arrSublistUser=document.querySelectorAll(".js-uservisible-str .uservisible-str__sublist");for(i=0;i<arrSublistUser.length;i++)arrSublistUser[i].classList.add("js-sublistuser-"+i);function topPositions(){var e=void 0,s=void 0,t=document.createElement("style");maket7.classList.contains("js-block")&&(e=getCoords(divisionBlock).top,s=getCoords(lastDivisionBlock).top+24-e,t.innerHTML=".uservisible-str.adminvisible-str::before {height: "+s+"px;}",document.querySelector("head").appendChild(t)),maket8.classList.contains("js-block")&&(e=getCoords(divisionBlockUser).top,s=getCoords(lastDivisionBlockUser).top+26-e,t.innerHTML=".uservisible-str.js-uservisible-str::before {height: "+s+"px;}",document.querySelector("head").appendChild(t))}function getCoords(e){var s=e.getBoundingClientRect();return{top:s.top+pageYOffset,left:s.left+pageXOffset}}function addSubLines(){var e=$(window).width();if(maket7.classList.contains("js-block"))for(var s=0;s<arrSublist.length;s++){var t=getCoords(arrSublist[s]).top,o=t-6;767<e&&(o=t);var i=getCoords(arrSublist[s].lastElementChild).top,r=i+24;767<e&&(r=i-1);var n=r-o,l=document.createElement("style");l.innerHTML=".uservisible-str__sublist.js-sublist-"+s+"::before {height: "+n+"px;}",document.querySelector("head").appendChild(l)}if(maket8.classList.contains("js-block"))for(s=0;s<arrSublistUser.length;s++){var a=getCoords(arrSublistUser[s]).top,d=a-6;767<e&&(d=a);var c=getCoords(arrSublistUser[s].lastElementChild).top,m=c+26;767<e&&(m=c+1);var u=m-d,b=document.createElement("style");b.innerHTML=".uservisible-str__sublist.js-sublistuser-"+s+"::before {height: "+u+"px;}",document.querySelector("head").appendChild(b)}}function scrollNone(e){return ulTopBottom.heightUl=e.clientHeight,ulTopBottom.topUl=getCoords(e).top,ulTopBottom.ulSelect=e,ulTopBottom.bottomUl=ulTopBottom.topUl+ulTopBottom.heightUl}function paramElem(e){ulTopBottom.top=getCoords(e).top,ulTopBottom.height=e.clientHeight,ulTopBottom.bottom=ulTopBottom.top+ulTopBottom.height,ulTopBottom.difference=ulTopBottom.bottomUl-ulTopBottom.bottom;var s=void 0;10<ulTopBottom.difference?ulTopBottom.ulSelect.style.height=ulTopBottom.heightUl+"px":ulTopBottom.difference<10&&0<ulTopBottom.difference?(s=ulTopBottom.heightUl+10-ulTopBottom.difference,ulTopBottom.ulSelect.style.height=s+"px"):0===ulTopBottom.difference?(s=ulTopBottom.heightUl+10,ulTopBottom.ulSelect.style.height=s+"px"):ulTopBottom.difference<0&&(s=ulTopBottom.heightUl+10+Math.abs(ulTopBottom.difference),ulTopBottom.ulSelect.style.height=s+"px")}!function(r){r.fn.extend({customStyle1:function(e){return this.each(function(){var e=r(this).find(":selected");r(this).after('<span class="select1"><span class="customStyleSelectBoxInner">'+e.text()+"</span></span>").css({position:"absolute",opacity:0,fontSize:r(this).next().css("font-size")});var s=r(this).next(),t=parseInt(r(this).width())-parseInt(s.css("padding-left"))-parseInt(s.css("padding-right")),o=s.find(":first-child");s.css({display:"inline-block"}),o.css({width:t,display:"inline-block"});var i=parseInt(s.height())+parseInt(s.css("padding-top"))+parseInt(s.css("padding-bottom"));r(this).height(i).change(function(){o.text(r("option:selected",this).text()).parent().addClass("changed")})})}})}(jQuery);var optionText,newString,array=[],maxChar=22;$("select").each(function(){$(this).find("option").each(function(e,t){$(t).attr("title",$(t).text()),optionText=$(t).text(),newString="",optionText.length>maxChar&&(array=optionText.split(" "),$.each(array,function(e,s){if(newString+=s+" ",0<e&&newString.length>maxChar)return $(t).text(newString),!1}))})}),$(".sel").each(function(){$(this).children("select").css("display","none");var t=$(this);$(this).find("option").each(function(e){if(0!=e)t.children("div").append($("<span>",{class:t.attr("class").replace(/sel/g,"sel__box__options"),text:$(this).text()}));else{t.prepend($("<div>",{class:t.attr("class").replace(/sel/g,"sel__box")}));var s=$(this).text();t.prepend($("<span>",{class:t.attr("class").replace(/sel/g,"sel__placeholder"),text:s,"data-placeholder":s}))}})});var selectCount={count:5};$(".sel").click(function(){selectCount.count=selectCount.count+1,$(this).toggleClass("active"),$(this).find(".sel__box").css("z-index",selectCount.count)}),$(".sel__box__options").click(function(){var e=$(this).text(),s=$(this).index();$(this).siblings(".sel__box__options").removeClass("selected"),$(this).addClass("selected");var t=$(this).closest(".sel");t.children(".sel__placeholder").text(e),t.children("select").prop("selectedIndex",s+1)});var btnToggle={btn:null,jsblock:null,border:null};function addBtnFooter(e){e.preventDefault();var s=e.target;s.classList.contains("footer-str__btn")&&(null!==btnToggle.btn&&(btnToggle.btn.classList.remove("footer-str__btn--hover"),btnToggle.jsblock.classList.remove("js-block"),btnToggle.border.classList.remove("footer-str__itemappl--border")),s.parentNode.nextElementSibling.classList.add("js-block"),btnToggle.jsblock=s.parentNode.nextElementSibling,s.parentNode.parentNode.classList.add("footer-str__itemappl--border"),btnToggle.border=s.parentNode.parentNode,s.classList.add("footer-str__btn--hover"),btnToggle.btn=s),s.classList.contains("footer-str__form--addbtn")&&(s.parentNode.parentNode.classList.remove("js-block"),s.parentNode.parentNode.parentNode.classList.remove("footer-str__itemappl--border"),btnToggle.btn.classList.remove("footer-str__btn--hover"))}footerBlockUser.addEventListener("click",addBtnFooter),footerBlockAdmin.addEventListener("click",addBtnFooter);